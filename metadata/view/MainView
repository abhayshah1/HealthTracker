{
    "type": "Ext.container.Viewport",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|initialView": true,
        "designer|userClassName": "MainView",
        "itemId": "mainView",
        "layout": "border"
    },
    "designerId": "0ba41f05-69d3-4f65-a25f-892e02e1b78d",
    "cn": [
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "collapseDirection": "left",
                "collapsible": true,
                "itemId": "leftPanel",
                "layout": "fit",
                "layout|flex": 1,
                "layout|region": "west",
                "layout|split": true,
                "title": "Vitals Data",
                "width": 150
            },
            "designerId": "9df01c6c-16e4-4a43-bae2-9d564f0d36a1",
            "cn": [
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "autoScroll": true,
                        "itemId": "mygridpanel3",
                        "store": "VitalsStore",
                        "title": null
                    },
                    "designerId": "b19d35a5-bba6-4228-ab63-1c2f75f2e918",
                    "cn": [
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "visitDate",
                                "sortable": true,
                                "text": "VisitDate"
                            },
                            "designerId": "2471f67b-ae76-4962-afe6-b85f4a8bd5d8"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "weight",
                                "text": "Weight"
                            },
                            "designerId": "ae50ac81-6950-4397-8bce-f68a2f864cb7"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "vitaminB12",
                                "text": "VitaminB12"
                            },
                            "designerId": "5c1ca9d0-25c8-4cfb-b58e-87fa544e9f96"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "triglycerides",
                                "text": "Triglycerides"
                            },
                            "designerId": "b19cf472-ea11-4e22-ba00-c913bae8ed38"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "vitaminD",
                                "text": "VitaminD"
                            },
                            "designerId": "51395fa6-0500-4589-8362-2343b555dee5"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 5,
                "collapseDirection": "right",
                "collapsible": true,
                "itemId": "rightPanel",
                "layout|flex": 1,
                "layout|region": "center",
                "layout|split": true,
                "title": "Vitals Chart"
            },
            "designerId": "5a0d4079-d7a4-487f-8bf8-939eececc032",
            "cn": [
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "container|align": "stretch",
                        "id": "vitalsForm",
                        "itemId": "vitalsForm",
                        "layout": "vbox",
                        "title": null
                    },
                    "designerId": "45c865a0-3700-4fb0-a06c-e4480078e6ce",
                    "cn": [
                        {
                            "type": "Ext.chart.Chart",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "animate": [
                                    "true"
                                ],
                                "height": 250,
                                "id": "vitalsLineChart",
                                "insetPadding": 20,
                                "store": "VitalsStore",
                                "width": 400
                            },
                            "designerId": "3a205bfb-c8d5-4acf-aad0-220ca92a1e93",
                            "isBuiltIn": true,
                            "iconCls": "icon-line-chart",
                            "autoName": "LineChart",
                            "cn": [
                                {
                                    "type": "Ext.chart.axis.Time",
                                    "reference": {
                                        "name": "axes",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "adjustMaximumByMajorUnit": true,
                                        "adjustMinimumByMajorUnit": true,
                                        "dateFormat": "m/d/y",
                                        "designer|displayName": "Visit Date",
                                        "fields": [
                                            "visitDate"
                                        ],
                                        "position": "bottom",
                                        "step": [
                                            "[\"d\",1]"
                                        ],
                                        "title": "Visited Date"
                                    },
                                    "designerId": "8c19e035-fff5-4325-add6-824dcc62e8c8"
                                },
                                {
                                    "type": "Ext.chart.axis.Numeric",
                                    "reference": {
                                        "name": "axes",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fields": [
                                            "weight",
                                            "vitaminB12",
                                            "triglycerides",
                                            "vitaminD"
                                        ],
                                        "title": "Vitals Data"
                                    },
                                    "designerId": "60915304-e147-4c63-a45a-7ce9bab44ad6"
                                },
                                {
                                    "type": "Ext.chart.Legend",
                                    "reference": {
                                        "name": "legend",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "itemId": "vitalsLegend",
                                        "position": "right"
                                    },
                                    "designerId": "2ac6e693-6b33-4dad-9203-4665fb605306",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "itemId",
                                            "type": "string"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.CheckboxGroup",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": 1,
                                "fieldLabel": "",
                                "id": "selectionGroup",
                                "width": 400
                            },
                            "designerId": "4b81753f-e6d7-47ef-8647-cf0fa89d740e",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Checkbox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "boxLabel": "Weight",
                                        "fieldLabel": null,
                                        "id": "weight"
                                    },
                                    "designerId": "e3f256a2-38bf-41db-b8db-461b46e7de0e",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "checkbox",
                                                    "checked"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// Get the chart to update\r",
                                                    "var vitalsLineChart = Ext.getCmp(\"vitalsLineChart\");\r",
                                                    "\r",
                                                    "// Assume one form by that name\r",
                                                    "var vitalsForm = Ext.ComponentQuery.query('#vitalsForm')[0];\r",
                                                    "\r",
                                                    "vitalsForm.toggleChartSeries( checked, checkbox, vitalsLineChart );"
                                                ]
                                            },
                                            "designerId": "658bb899-4fee-4c97-9b1d-a9ae13e60afb"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Checkbox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "boxLabel": "Vitamin B12",
                                        "fieldLabel": null,
                                        "id": "vitaminB12"
                                    },
                                    "designerId": "be209258-7779-48b4-b1ee-f2afe7ecf5da",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "checkbox",
                                                    "checked"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// Get the chart to update\r",
                                                    "var vitalsLineChart = Ext.getCmp(\"vitalsLineChart\");\r",
                                                    "\r",
                                                    "// Assume one form by that name\r",
                                                    "var vitalsForm = Ext.ComponentQuery.query('#vitalsForm')[0];\r",
                                                    "\r",
                                                    "vitalsForm.toggleChartSeries( checked, checkbox, vitalsLineChart );"
                                                ]
                                            },
                                            "designerId": "77cfc834-7b56-4ac7-b8b1-d4c028607c94"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Checkbox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "boxLabel": "Triglycerides",
                                        "fieldLabel": null,
                                        "id": "triglycerides"
                                    },
                                    "designerId": "544a4c9f-dd76-4d08-be3c-c75040a94051",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "checkbox",
                                                    "checked"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// Get the chart to update\r",
                                                    "var vitalsLineChart = Ext.getCmp(\"vitalsLineChart\");\r",
                                                    "\r",
                                                    "// Assume one form by that name\r",
                                                    "var vitalsForm = Ext.ComponentQuery.query('#vitalsForm')[0];\r",
                                                    "\r",
                                                    "vitalsForm.toggleChartSeries( checked, checkbox, vitalsLineChart );"
                                                ]
                                            },
                                            "designerId": "c9f69c3c-3301-4ea9-a720-f44ebbf74944"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Checkbox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "boxLabel": "VitaminD",
                                        "fieldLabel": null,
                                        "id": "vitaminD"
                                    },
                                    "designerId": "c1708181-0dc7-416b-99a5-1ba3bee99e15",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "checkbox",
                                                    "checked"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "// Get the chart to update\r",
                                                    "var vitalsLineChart = Ext.getCmp(\"vitalsLineChart\");\r",
                                                    "\r",
                                                    "// Assume one form by that name\r",
                                                    "var vitalsForm = Ext.ComponentQuery.query('#vitalsForm')[0];\r",
                                                    "\r",
                                                    "vitalsForm.toggleChartSeries( checked, checkbox, vitalsLineChart );"
                                                ]
                                            },
                                            "designerId": "92b850fe-99c7-4b8b-b102-aa56ada97c03"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "basicfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "checked",
                                    "checkbox",
                                    "chart"
                                ],
                                "fn": "toggleChartSeries",
                                "implHandler": [
                                    "var checkboxId = checkbox.id;\r",
                                    "var seriesName = checkboxId.concat('Series');\r",
                                    "\r",
                                    "if ( checked ) {\r",
                                    "    //create a series for the selected checkbox\r",
                                    "    var series = {\r",
                                    "        type: 'line',\r",
                                    "        itemId: seriesName,\r",
                                    "        id: seriesName,\r",
                                    "        seriesId: seriesName,\r",
                                    "        axis: 'left',\r",
                                    "        xField: 'visitDate',\r",
                                    "        yField: checkboxId,\r",
                                    "        smooth: 3\r",
                                    "    };\r",
                                    "\r",
                                    "    // add the series\r",
                                    "    chart.series.add( series );\r",
                                    "}\r",
                                    "else {\r",
                                    "    var series = chart.series.getByKey(seriesName);\r",
                                    "\r",
                                    "    // remove the series\r",
                                    "    chart.series.remove(series);\r",
                                    "}\r",
                                    "\r",
                                    "// redraw the chart\r",
                                    "chart.surface.removeAll();\r",
                                    "chart.redraw();"
                                ]
                            },
                            "designerId": "c13afb85-e523-498c-bb75-fcfa9378ab1f"
                        }
                    ]
                }
            ]
        }
    ]
}